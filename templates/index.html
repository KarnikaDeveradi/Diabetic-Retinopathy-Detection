<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Diabetic Retinopathy Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
    </style>
</head>
<body>
<div id="particles-js"></div>

<div class="container">
    <header class="header-section" data-aos="fade-down">
        <!-- Overlay -->
        <div class="header-overlay"></div>
        <!-- Content -->
        <div class="header-content">
            <h1 class="main-heading">Diabetic Retinopathy Detection</h1>
            <p class="subtitle">AI-Powered Eye Health Analysis</p>
        </div>
    </header>

    <section class="intro" data-aos="fade-up">
        <h2 class="section-heading">About Our Project</h2>
        <h5>What is Diabetic Retinopathy?</h5>
        <p>Diabetic Retinopathy (DR) is a leading cause of blindness among adults worldwide, affecting millions of people with diabetes. Early detection is critical to prevent irreversible vision loss, yet access to expert diagnosis remains limited in many regions.</p>
        <h5>Our Solution</h5>
        <p>Our advanced Diabetic Retinopathy Detection tool leverages state-of-the-art artificial intelligence to bridge this gap. Built using the <strong>EfficientNet-B5</strong> deep learning model, our system achieves high accuracy in classifying retinal images into five severity levels: No DR, Mild, Moderate, Severe, and Proliferative DR. We integrate <strong>Grad-CAM++</strong> to highlight key retinal features.</p>
        <h5>Our Mission</h5>
        <p>Our goal is to empower healthcare providers and patients with a fast, reliable, and accessible tool for early DR detection, supporting timely interventions and preserving vision.</p>
        <ul>
            <li><strong>Technology:</strong> EfficientNet-B5 for robust feature extraction and classification.</li>
            <li><strong>Visualization:</strong> Grad-CAM++ to provide transparent, explainable results.</li>
            <li><strong>Purpose:</strong> Enable early detection and management of diabetic retinopathy.</li>
            <li><strong>Impact:</strong> Improve eye health outcomes globally, especially in underserved areas.</li>
            <li><strong>Development:</strong> Trained on a diverse dataset of retinal images, validated by medical experts.</li>
        </ul>
    </section>

    <section class="upload-section" data-aos="zoom-in">
        <h3 class="section-heading">Upload Your Retina Image</h3>
        <form action="{{ url_for('analyze') }}" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <input class="form-control" type="file" name="file" accept="image/*" required>
            </div>
            <button type="submit" class="btn btn-primary">Analyze Now</button>
        </form>
    </section>

    <section class="examples" data-aos="fade-up">
        <h4 class="section-heading">Example Retina Scans</h4>
        <div class="row">
            <div class="col-md-4 mb-3">
                <div class="example-card">
                    <img src="{{ url_for('static', filename='examples/no_dr.jpeg') }}" class="example-img" alt="No DR">
                    <p class="text-center">No DR</p>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="example-card">
                    <img src="{{ url_for('static', filename='examples/moderate.png') }}" class="example-img" alt="Moderate DR">
                    <p class="text-center">Moderate DR</p>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="example-card">
                    <img src="{{ url_for('static', filename='examples/proliferative.jpg') }}" class="example-img" alt="Proliferative DR">
                    <p class="text-center">Proliferative DR</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p>Â© 2025 Diabetic Retinopathy Detection Team</p>
    </footer>
</div>

<!-- Loading Modal -->
<div class="modal fade" id="loadingModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status"></div>
      <h5 class="mt-3">Analyzing image... Please wait</h5>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init();
  particlesJS.load('particles-js', "{{ url_for('static', filename='particles.json') }}", function () {
    console.log('particles.js loaded');
  });

  document.querySelector("form").addEventListener("submit", function () {
    var loadingModal = new bootstrap.Modal(document.getElementById("loadingModal"));
    loadingModal.show();
  });
</script>
</body>
</html>